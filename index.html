<div id="veloudos-business-chatbot" role="complementary" aria-label="Œ®Œ∑œÜŒπŒ±Œ∫œåœÇ Œ≤ŒøŒ∑Œ∏œåœÇ ŒµœÄŒπŒ∫ŒøŒπŒΩœâŒΩŒØŒ±œÇ ŒìŒπŒ¨ŒΩŒΩŒ∑ ŒíŒµŒªŒøœçŒ¥ŒøœÖ">
    <!-- Chatbot Toggle Button -->
    <button id="chatbot-toggle" aria-label="ŒÜŒΩŒøŒπŒ≥ŒºŒ± œàŒ∑œÜŒπŒ±Œ∫Œøœç Œ≤ŒøŒ∑Œ∏Œøœç" aria-expanded="false" aria-controls="chatbot-window">
        <img src="http://veloudos.eu/wp-content/uploads/2025/05/VELOUDOS-IOANNIS.jpg" alt="Œ¶œâœÑŒøŒ≥œÅŒ±œÜŒØŒ± œÄœÅŒøœÜŒØŒª ŒìŒπŒ¨ŒΩŒΩŒ∑ ŒíŒµŒªŒøœçŒ¥ŒøœÖ" id="toggle-photo">
    </button>

    <!-- Chatbot Window -->
    <div id="chatbot-window" role="dialog" aria-modal="true" aria-labelledby="chatbot-profile-name" aria-describedby="chatbot-profile-title">
        <!-- Header -->
        <div id="chatbot-header">
            <div id="profile-section">
                <img src="http://veloudos.eu/wp-content/uploads/2025/05/VELOUDOS-IOANNIS.jpg" alt="Œ¶œâœÑŒøŒ≥œÅŒ±œÜŒØŒ± œÄœÅŒøœÜŒØŒª ŒìŒπŒ¨ŒΩŒΩŒ∑ ŒíŒµŒªŒøœçŒ¥ŒøœÖ" id="profile-photo">
                <div id="profile-info">
                    <h3 id="chatbot-profile-name">ŒôœâŒ¨ŒΩŒΩŒ∑œÇ ŒíŒµŒªŒøœçŒ¥ŒøœÇ</h3>
                    <p id="chatbot-profile-title">Key Account Manager</p>
                    <p class="company">DOUSIS MEDIA GROUP</p>
                </div>
            </div>
            <button id="close-chatbot" aria-label="ŒöŒªŒµŒØœÉŒπŒºŒø œàŒ∑œÜŒπŒ±Œ∫Œøœç Œ≤ŒøŒ∑Œ∏Œøœç">
                <span aria-hidden="true">√ó</span>
            </button>
        </div>
        
        <!-- Main Content -->
        <div id="chatbot-content">
            <!-- Contact Information -->
            <section class="contact-section" aria-labelledby="contact-heading">
                <div class="section-header">
                    <h4 id="contact-heading">üìû ŒïœÄŒπŒ∫ŒøŒπŒΩœâŒΩŒØŒ±</h4>
                    <button class="download-vcard" onclick="downloadVCard()" aria-label="ŒõŒÆœàŒ∑ Œ∑ŒªŒµŒ∫œÑœÅŒøŒΩŒπŒ∫ŒÆœÇ Œ∫Œ¨œÅœÑŒ±œÇ ŒµœÄŒ±œÜŒÆœÇ">
                        üì• vCard
                    </button>
                </div>
                <div class="contact-list" role="list">
                    <div class="contact-item" role="listitem" tabindex="0" onclick="copyToClipboard('iveloudos@dousiscom.gr', 'Email')" onkeydown="handleContactItemKeydown(event, 'iveloudos@dousiscom.gr', 'Email')">
                        <span class="icon" aria-hidden="true">üìß</span>
                        <span class="text">iveloudos@dousiscom.gr</span>
                        <span class="sr-only">Œ†Œ±œÑŒÆœÉœÑŒµ Enter Œ≥ŒπŒ± Œ±ŒΩœÑŒπŒ≥œÅŒ±œÜŒÆ email</span>
                        <span class="copy-icon" aria-hidden="true">‚éò</span>
                    </div>
                    <div class="contact-item" role="listitem" tabindex="0" onclick="callPhone('+306936984720')" onkeydown="handleContactItemKeydown(event, '+306936984720', 'ŒöŒªŒÆœÉŒ∑')">
                        <span class="icon" aria-hidden="true">üì±</span>
                        <span class="text">+30 693 698 4720</span>
                        <span class="sr-only">Œ†Œ±œÑŒÆœÉœÑŒµ Enter Œ≥ŒπŒ± Œ∫ŒªŒÆœÉŒ∑</span>
                        <span class="action-icon" aria-hidden="true">üìû</span>
                    </div>
                    <div class="contact-item" role="listitem" tabindex="0" onclick="callPhone('+302106858180')" onkeydown="handleContactItemKeydown(event, '+302106858180', 'ŒöŒªŒÆœÉŒ∑')">
                        <span class="icon" aria-hidden="true">üè¢</span>
                        <span class="text">+30 210 685 8190 (ŒµœÉœâœÑ. 412)</span>
                        <span class="sr-only">Œ†Œ±œÑŒÆœÉœÑŒµ Enter Œ≥ŒπŒ± Œ∫ŒªŒÆœÉŒ∑</span>
                        <span class="action-icon" aria-hidden="true">üìû</span>
                    </div>
                    <div class="contact-item" role="listitem" tabindex="0" onclick="openMaps()" onkeydown="handleContactItemKeydown(event, 'maps', 'ŒßŒ¨œÅœÑŒ∑œÇ')">
                        <span class="icon" aria-hidden="true">üìç</span>
                        <span class="text">Œ†Œ±œçŒªŒøœÇ ŒúœÄŒ±Œ∫ŒøŒ≥ŒπŒ¨ŒΩŒΩŒ∑ 34,14451, ŒúŒµœÑŒ±ŒºœåœÅœÜœâœÉŒ∑</span>
                        <span class="sr-only">Œ†Œ±œÑŒÆœÉœÑŒµ Enter Œ≥ŒπŒ± Œ¨ŒΩŒøŒπŒ≥ŒºŒ± œáŒ¨œÅœÑŒ∑</span>
                        <span class="action-icon" aria-hidden="true">üó∫Ô∏è</span>
                    </div>
                </div>
            </section>

            <!-- Social Media Links -->
            <section class="social-section" aria-labelledby="social-heading">
                <h4 id="social-heading">üåê Social Media</h4>
                <div class="social-buttons" role="group" aria-label="ŒîŒπŒ±Œ¥ŒπŒ∫œÑœÖŒ±Œ∫ŒøŒØ ŒªŒøŒ≥Œ±œÅŒπŒ±œÉŒºŒøŒØ">
                    <button class="social-btn instagram" onclick="window.open('https://www.instagram.com/veloudos/', '_blank')" aria-label="ŒÜŒΩŒøŒπŒ≥ŒºŒ± œÄœÅŒøœÜŒØŒª Instagram">
                        <span aria-hidden="true">üì∑</span>
                        Instagram
                    </button>
                    <button class="social-btn facebook" onclick="window.open('https://www.facebook.com/yannisveloudos?locale=el_GR', '_blank')" aria-label="ŒÜŒΩŒøŒπŒ≥ŒºŒ± œÄœÅŒøœÜŒØŒª Facebook">
                        <span aria-hidden="true">üë•</span>
                        Facebook
                    </button>
                </div>
            </section>

            <!-- Quick Actions -->
            <section class="actions-section" aria-labelledby="actions-heading">
                <h4 id="actions-heading">üöÄ ŒìœÅŒÆŒ≥ŒøœÅŒµœÇ ŒïŒΩŒ≠œÅŒ≥ŒµŒπŒµœÇ</h4>
                <div class="action-buttons" role="group" aria-label="ŒìœÅŒÆŒ≥ŒøœÅŒµœÇ ŒµŒΩŒ≠œÅŒ≥ŒµŒπŒµœÇ">
                    <button class="action-btn" onclick="showMediaOptions()" aria-label="Œ†Œ±œÅŒøœÖœÉŒØŒ±œÉŒ∑ Media ŒøŒºŒØŒªŒøœÖ">
                        <span aria-hidden="true">üì∫</span>
                        Media ŒüŒºŒØŒªŒøœÖ
                    </button>
                    <button class="action-btn" onclick="showSocialMediaOptions()" aria-label="Œ†ŒªŒ∑œÅŒøœÜŒøœÅŒØŒµœÇ Social Media">
                        <span aria-hidden="true">üì±</span>
                        Social Media
                    </button>
                    <button class="action-btn" onclick="startLeadForm()" aria-label="ŒëŒØœÑŒ∑ŒºŒ± œÄœÅŒøœÉœÜŒøœÅŒ¨œÇ">
                        <span aria-hidden="true">üìã</span>
                        ŒñŒÆœÑŒ∑œÉŒ∑ Œ†œÅŒøœÉœÜŒøœÅŒ¨œÇ
                    </button>
                    <button class="action-btn" onclick="scheduleMeeting()" aria-label="Œ†œÅŒøŒ≥œÅŒ±ŒºŒºŒ±œÑŒπœÉŒºœåœÇ œÅŒ±ŒΩœÑŒµŒ≤Œøœç">
                        <span aria-hidden="true">üóìÔ∏è</span>
                        Œ°Œ±ŒΩœÑŒµŒ≤Œøœç
                    </button>
                </div>
            </section>

            <!-- Statistics -->
            <section class="stats-section" aria-label="Œ£œÑŒ±œÑŒπœÉœÑŒπŒ∫Œ¨ Media ŒüŒºŒØŒªŒøœÖ">
                <div class="stats-badge">
                    <div class="stat-item">
                        <span class="stat-number">3M+</span>
                        <span class="stat-label">Followers</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">400K</span>
                        <span class="stat-label">TV Audience</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">48K</span>
                        <span class="stat-label">Print Copies</span>
                    </div>
                </div>
            </section>

            <!-- Chat Interface -->
            <section id="chat-interface" style="display: none;" aria-labelledby="chat-heading">
                <h5 id="chat-heading" class="sr-only">Œ£œÖŒΩŒøŒºŒπŒªŒØŒ± ŒºŒµ œÑŒøŒΩ Œ≤ŒøŒ∑Œ∏œå</h5>
                <div id="chat-messages" role="log" aria-live="polite" aria-atomic="false"></div>
                <div id="quick-buttons" role="toolbar" aria-label="ŒìœÅŒÆŒ≥ŒøœÅŒµœÇ Œ±œÄŒ±ŒΩœÑŒÆœÉŒµŒπœÇ"></div>
                <div id="input-container" style="display: none;">
                    <label for="user-input" class="sr-only">ŒìœÅŒ¨œàœÑŒµ œÑŒø ŒºŒÆŒΩœÖŒºŒ¨ œÉŒ±œÇ</label>
                    <input type="text" id="user-input" placeholder="ŒìœÅŒ¨œàœÑŒµ œÑŒø ŒºŒÆŒΩœÖŒºŒ¨ œÉŒ±œÇ..." aria-label="ŒúŒÆŒΩœÖŒºŒ± œÉœÖŒΩŒøŒºŒπŒªŒØŒ±œÇ">
                    <button id="send-btn" aria-label="ŒëœÄŒøœÉœÑŒøŒªŒÆ ŒºŒ∑ŒΩœçŒºŒ±œÑŒøœÇ">
                        <span aria-hidden="true">‚ñ∂</span>
                    </button>
                </div>
            </section>
        </div>
    </div>
</div>

<style>
/* Screen Reader Only */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

#veloudos-business-chatbot {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 10000;
    font-family: 'Arial', 'Helvetica', sans-serif;
}

/* Toggle Button */
#chatbot-toggle {
    background: linear-gradient(135deg, #2c3e50, #3498db);
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
    transition: all 0.3s ease;
    animation: pulse 2s infinite;
    overflow: hidden;
    border: 3px solid white;
    outline: none;
}

#chatbot-toggle:focus {
    outline: 3px solid #3498db;
    outline-offset: 2px;
}

#toggle-photo {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
    transition: all 0.3s ease;
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

#chatbot-toggle:hover,
#chatbot-toggle:focus {
    background: linear-gradient(135deg, #34495e, #2980b9);
    transform: scale(1.1);
}

#chatbot-toggle:hover #toggle-photo,
#chatbot-toggle:focus #toggle-photo {
    transform: scale(1.1);
}

/* Chatbot Window */
#chatbot-window {
    position: absolute;
    bottom: 70px;
    right: 0;
    width: 400px;
    max-width: 90vw;
    height: 650px;
    max-height: 80vh;
    background: white;
    border-radius: 20px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    display: none;
    flex-direction: column;
    overflow: hidden;
    border: 2px solid #e3f2fd;
}

#chatbot-window:focus {
    outline: 3px solid #3498db;
}

/* Header */
#chatbot-header {
    background: linear-gradient(135deg, #2c3e50, #3498db);
    color: white;
    padding: 20px;
    position: relative;
}

#profile-section {
    display: flex;
    align-items: center;
    gap: 15px;
}

#profile-photo {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    border: 3px solid white;
    object-fit: cover;
}

#profile-info h3 {
    margin: 0;
    font-size: 18px;
    font-weight: bold;
    color: white;
}

#profile-info p {
    margin: 2px 0;
    font-size: 13px;
    opacity: 0.9;
    color: white;
}

.company {
    font-weight: bold;
    font-size: 12px !important;
    background: rgba(255,255,255,0.2);
    padding: 2px 8px;
    border-radius: 10px;
    display: inline-block;
    color: white;
}

#close-chatbot {
    position: absolute;
    right: 20px;
    top: 20px;
    cursor: pointer;
    font-size: 24px;
    opacity: 0.8;
    background: none;
    border: none;
    color: white;
    padding: 5px;
    border-radius: 5px;
    outline: none;
}

#close-chatbot:hover,
#close-chatbot:focus {
    opacity: 1;
    background: rgba(255,255,255,0.2);
    outline: 2px solid white;
}

/* Content */
#chatbot-content {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
    background: #f8f9fa;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

/* Contact Section */
.contact-section {
    background: white;
    padding: 15px;
    border-radius: 15px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.section-header h4 {
    margin: 0;
    color: #2c3e50;
    font-size: 16px;
}

.download-vcard {
    background: #27ae60;
    color: white;
    border: none;
    padding: 8px 12px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 11px;
    transition: all 0.3s;
    outline: none;
}

.download-vcard:hover,
.download-vcard:focus {
    background: #219653;
    transform: scale(1.05);
    outline: 2px solid #27ae60;
}

.contact-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.contact-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 12px;
    border-radius: 10px;
    transition: all 0.3s;
    cursor: pointer;
    border: 1px solid #f0f0f0;
    background: white;
    outline: none;
}

.contact-item:hover,
.contact-item:focus {
    background: #f8f9fa;
    border-color: #3498db;
    transform: translateX(5px);
    outline: 2px solid #3498db;
}

.contact-item .icon {
    font-size: 14px;
    width: 20px;
    text-align: center;
}

.contact-item .text {
    font-size: 14px;
    color: #2c3e50;
    flex: 1;
}

.copy-icon, .action-icon {
    font-size: 12px;
    opacity: 0.6;
    transition: opacity 0.3s;
}

.contact-item:hover .copy-icon,
.contact-item:focus .copy-icon,
.contact-item:hover .action-icon,
.contact-item:focus .action-icon {
    opacity: 1;
}

/* Social Media Section */
.social-section {
    background: white;
    padding: 15px;
    border-radius: 15px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.social-section h4 {
    margin: 0 0 15px 0;
    color: #2c3e50;
    font-size: 16px;
}

.social-buttons {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px;
}

.social-btn {
    border: none;
    padding: 12px 8px;
    border-radius: 10px;
    cursor: pointer;
    font-size: 12px;
    transition: all 0.3s;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
    color: white;
    outline: none;
}

.social-btn.instagram {
    background: linear-gradient(135deg, #E1306C, #C13584);
}

.social-btn.facebook {
    background: linear-gradient(135deg, #4267B2, #365899);
}

.social-btn:hover,
.social-btn:focus {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    outline: 2px solid currentColor;
}

.social-btn span {
    font-size: 16px;
}

/* Actions Section */
.actions-section {
    background: white;
    padding: 15px;
    border-radius: 15px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.actions-section h4 {
    margin: 0 0 15px 0;
    color: #2c3e50;
    font-size: 16px;
}

.action-buttons {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
}

.action-btn {
    background: linear-gradient(135deg, #3498db, #2980b9);
    color: white;
    border: none;
    padding: 14px 8px;
    border-radius: 10px;
    cursor: pointer;
    font-size: 12px;
    transition: all 0.3s;
    text-align: center;
    outline: none;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
}

.action-btn:hover,
.action-btn:focus {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);
    outline: 2px solid #3498db;
}

.action-btn span {
    font-size: 16px;
}

/* Statistics Section */
.stats-section {
    background: white;
    padding: 15px;
    border-radius: 15px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.stats-badge {
    background: linear-gradient(135deg, #e67e22, #d35400);
    color: white;
    padding: 15px;
    border-radius: 15px;
    display: flex;
    justify-content: space-around;
    text-align: center;
    box-shadow: 0 4px 15px rgba(230, 126, 34, 0.3);
}

.stat-item {
    display: flex;
    flex-direction: column;
}

.stat-number {
    font-size: 18px;
    font-weight: bold;
    margin-bottom: 5px;
}

.stat-label {
    font-size: 11px;
    opacity: 0.9;
}

/* Chat Interface */
#chat-interface {
    background: white;
    padding: 15px;
    border-radius: 15px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    flex: 1;
    display: flex;
    flex-direction: column;
}

#chat-messages {
    flex: 1;
    max-height: 200px;
    overflow-y: auto;
    margin-bottom: 15px;
    padding: 10px;
    background: #f8f9fa;
    border-radius: 10px;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.chat-message {
    padding: 10px 15px;
    border-radius: 18px;
    max-width: 80%;
    word-wrap: break-word;
    font-size: 14px;
    line-height: 1.4;
}

.bot-message {
    background: #e3f2fd;
    border-bottom-left-radius: 5px;
    align-self: flex-start;
    color: #2c3e50;
}

.user-message {
    background: #007bff;
    color: white;
    border-bottom-right-radius: 5px;
    margin-left: auto;
}

#quick-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-bottom: 15px;
}

.quick-btn {
    background: #3498db;
    color: white;
    border: none;
    padding: 10px 14px;
    border-radius: 20px;
    cursor: pointer;
    font-size: 12px;
    transition: background 0.3s;
    outline: none;
}

.quick-btn:hover,
.quick-btn:focus {
    background: #2980b9;
    outline: 2px solid #3498db;
}

#input-container {
    display: flex;
    gap: 10px;
}

#user-input {
    flex: 1;
    padding: 12px;
    border: 2px solid #ddd;
    border-radius: 20px;
    outline: none;
    font-size: 14px;
}

#user-input:focus {
    border-color: #3498db;
}

#send-btn {
    background: #2c3e50;
    color: white;
    border: none;
    padding: 12px 16px;
    border-radius: 50%;
    cursor: pointer;
    outline: none;
}

#send-btn:hover,
#send-btn:focus {
    background: #34495e;
    outline: 2px solid #3498db;
}

/* Toast Notifications */
.toast {
    position: fixed;
    bottom: 100px;
    right: 30px;
    background: #27ae60;
    color: white;
    padding: 12px 20px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    z-index: 10001;
    animation: slideIn 0.3s ease;
    font-size: 14px;
}

@keyframes slideIn {
    from { transform: translateX(100px); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
    #chatbot-toggle,
    .contact-item,
    .social-btn,
    .action-btn,
    .quick-btn {
        animation: none;
        transition: none;
    }
    
    .toast {
        animation: none;
    }
}

@media (prefers-contrast: high) {
    .contact-item {
        border: 2px solid #2c3e50;
    }
    
    .bot-message {
        background: #d4e6f1;
        border: 1px solid #2c3e50;
    }
}

/* Responsive */
@media (max-width: 480px) {
    #chatbot-window {
        width: 340px;
        right: 10px;
        height: 600px;
    }
    
    .action-buttons,
    .social-buttons {
        grid-template-columns: 1fr;
    }
    
    #chatbot-toggle {
        width: 50px;
        height: 50px;
    }
    
    #profile-photo {
        width: 50px;
        height: 50px;
    }
}
</style>

<script>
// Business Data
const businessData = {
    name: "ŒôœâŒ¨ŒΩŒΩŒ∑œÇ ŒíŒµŒªŒøœçŒ¥ŒøœÇ",
    title: "Key Account Manager",
    company: "DOUSIS MEDIA GROUP",
    email: "iveloudos@dousiscom.gr",
    phone: "+306936984720",
    phoneDisplay: "+30 693 698 4720",
    officePhone: "+302106858180",
    officePhoneDisplay: "+30 210 685 8190 (ŒµœÉœâœÑ. 412)",
    address: "Œ†Œ±œçŒªŒøœÇ ŒúœÄŒ±Œ∫ŒøŒ≥ŒπŒ¨ŒΩŒΩŒ∑ 34,14451, ŒúŒµœÑŒ±ŒºœåœÅœÜœâœÉŒ∑",
    photo: "http://veloudos.eu/wp-content/uploads/2025/05/VELOUDOS-IOANNIS.jpg",
    website: "https://veloudos.eu",
    instagram: "https://www.instagram.com/veloudos/",
    facebook: "https://www.facebook.com/yannisveloudos?locale=el_GR"
};

// Media Information Database
const mediaInfo = {
    'ŒïŒôŒöŒüŒùŒïŒ£': {
        title: 'ŒïŒôŒöŒüŒùŒïŒ£ ŒºŒµ œÑŒøŒΩ Œ§Œ¨œÉŒø ŒîŒøœçœÉŒ∑',
        description: 'Œ§Œ±ŒæŒπŒ¥ŒπœâœÑŒπŒ∫ŒÆ ŒµŒ∫œÄŒøŒºœÄŒÆ - Open TV, ŒöœÖœÅŒπŒ±Œ∫ŒÆ 17:45',
        stats: '‚Ä¢ 400.000 œÑŒ∑ŒªŒµŒ∏ŒµŒ±œÑŒ≠œÇ/ŒµœÄŒµŒπœÉœåŒ¥ŒπŒø\n‚Ä¢ 2.000.000 ŒºŒ∑ŒΩŒπŒ±ŒØŒøŒπ œÑŒ∑ŒªŒµŒ∏ŒµŒ±œÑŒ≠œÇ\n‚Ä¢ YouTube: 29ŒïŒö+ œÄœÅŒøŒ≤ŒøŒªŒ≠œÇ\n‚Ä¢ Social: 1.7ŒïŒö+ followers',
        demographics: 'ŒìœÖŒΩŒ±ŒØŒ∫ŒµœÇ 60%, ŒÜŒΩŒ¥œÅŒµœÇ 40%, ŒóŒªŒπŒ∫ŒØŒµœÇ 25-54'
    },
    'HAPPY HOURS': {
        title: 'HAPPY HOURS',
        description: 'Lifestyle ŒµŒ∫œÄŒøŒºœÄŒÆ - Open TV, Œ£Œ¨Œ≤Œ≤Œ±œÑŒø 17:45',
        stats: '‚Ä¢ ŒîŒπŒ¨œÅŒ∫ŒµŒπŒ±: 45 ŒªŒµœÄœÑŒ¨\n‚Ä¢ 8-14 Œ∏ŒµŒºŒ±œÑŒπŒ∫Œ≠œÇ ŒµŒΩœåœÑŒ∑œÑŒµœÇ\n‚Ä¢ ŒüŒπŒ∫ŒøŒ≥ŒµŒΩŒµŒπŒ±Œ∫œå Œ∫ŒøŒπŒΩœå',
        demographics: 'ŒüŒπŒ∫ŒøŒ≥Œ≠ŒΩŒµŒπŒµœÇ, lifestyle enthusiasts'
    },
    'YOUWEEKLY': {
        title: 'YOUWEEKLY.gr',
        description: 'No1 Œ≥œÖŒΩŒ±ŒπŒ∫ŒµŒØŒø lifestyle site',
        stats: '‚Ä¢ 2.6ŒïŒö+ ŒºŒøŒΩŒ±Œ¥ŒπŒ∫ŒøŒØ ŒµœÄŒπœÉŒ∫Œ≠œÄœÑŒµœÇ/ŒºŒÆŒΩŒ±\n‚Ä¢ 223Œö Instagram followers\n‚Ä¢ YOU TV video content',
        demographics: 'ŒìœÖŒΩŒ±ŒØŒ∫ŒµœÇ 18-45 ŒµœÑœéŒΩ'
    },
    'ATHENS MAGAZINE': {
        title: 'ATHENS MAGAZINE.gr',
        description: 'Œ†ŒøŒªŒπœÑŒπœÉŒºœåœÇ & Œ§Œ≠œáŒΩŒµœÇ',
        stats: '‚Ä¢ 2.7ŒïŒö+ ŒºŒøŒΩŒ±Œ¥ŒπŒ∫ŒøŒØ ŒµœÄŒπœÉŒ∫Œ≠œÄœÑŒµœÇ/ŒºŒÆŒΩŒ±\n‚Ä¢ 133Œö Instagram followers',
        demographics: 'ŒïŒ∫ŒªŒµŒ∫œÑŒπŒ∫œå, ŒºŒøœÅœÜœâŒºŒ≠ŒΩŒø Œ∫ŒøŒπŒΩœå'
    },
    'TRAVELSTYLE': {
        title: 'TRAVELSTYLE.gr',
        description: 'ŒïŒπŒ¥ŒÆœÉŒµŒπœÇ & Œ†œÅŒøœÑŒ¨œÉŒµŒπœÇ Œ§Œ±ŒæŒπŒ¥ŒπœéŒΩ',
        stats: '‚Ä¢ 283Œö+ ŒºŒøŒΩŒ±Œ¥ŒπŒ∫ŒøŒØ ŒµœÄŒπœÉŒ∫Œ≠œÄœÑŒµœÇ/ŒºŒÆŒΩŒ±\n‚Ä¢ 88.7Œö Instagram followers',
        demographics: 'Œ§Œ±ŒæŒπŒ¥ŒπœéœÑŒµœÇ 25-64 ŒµœÑœéŒΩ'
    },
    'TV24': {
        title: 'TV24',
        description: 'Œ§Œ∑ŒªŒµŒøœÄœÑŒπŒ∫œå œÄŒµœÅŒπŒøŒ¥ŒπŒ∫œå',
        stats: '‚Ä¢ 24.000 Œ±ŒΩœÑŒØœÑœÖœÄŒ±/ŒµŒ≤Œ¥ŒøŒºŒ¨Œ¥Œ±\n‚Ä¢ 2.5ŒïŒö+ pageviews/ŒºŒÆŒΩŒ± online\n‚Ä¢ ŒüŒªœåœÉŒµŒªŒπŒ¥ŒµœÇ & Œ∑ŒºŒπœÉŒ≠ŒªŒπŒ¥ŒµœÇ Œ¥ŒπŒ±œÜŒ∑ŒºŒØœÉŒµŒπœÇ',
        demographics: 'ŒïœÖœÅŒµŒØŒ± œÑŒ∑ŒªŒµŒøœÄœÑŒπŒ∫ŒÆ Œ±œÄŒÆœáŒ∑œÉŒ∑'
    },
    'TV Œ£ŒôŒ°ŒôŒëŒõ': {
        title: 'TV Œ£ŒôŒ°ŒôŒëŒõ',
        description: 'Œ§Œ∑ŒªŒµŒøœÄœÑŒπŒ∫œå œÄŒµœÅŒπŒøŒ¥ŒπŒ∫œå œÉŒµŒπœÅœéŒΩ',
        stats: '‚Ä¢ 24.000 Œ±ŒΩœÑŒØœÑœÖœÄŒ±/ŒµŒ≤Œ¥ŒøŒºŒ¨Œ¥Œ±\n‚Ä¢ 1.5ŒïŒö+ pageviews/ŒºŒÆŒΩŒ± online\n‚Ä¢ ŒïŒπŒ¥ŒπŒ∫Œ≠œÇ Œ∏Œ≠œÉŒµŒπœÇ & Œ±œÜŒπŒµœÅœéŒºŒ±œÑŒ±',
        demographics: 'ŒõŒ¨œÑœÅŒµŒπœÇ œÑŒ∑ŒªŒµŒøœÄœÑŒπŒ∫œéŒΩ œÉŒµŒπœÅœéŒΩ'
    }
};

const socialMediaInfo = {
    'Œ£Œ•ŒùŒüŒõŒü': {
        stats: '**Œ£Œ•ŒùŒüŒõŒôŒöŒü REACH: 3.027.155+ FOLLOWERS**\n\n‚Ä¢ 1.852.864 Instagram\n‚Ä¢ 822.851 Facebook\n‚Ä¢ 351.440 TikTok\n‚Ä¢ 202.000 YouTube\n‚Ä¢ 29.6ŒïŒö+ YouTube Views',
        platforms: {
            'Œ§Œ¨œÉŒøœÇ ŒîŒøœçœÉŒ∑œÇ': '734Œö IG, 300-650K engagement',
            'ŒïŒôŒöŒüŒùŒïŒ£ TV': '468Œö IG, 250Œö engagement', 
            'YOUWEEKLY': '223Œö IG, 2.6ŒïŒö visitors',
            'ATHENS MAGAZINE': '133Œö IG, 2.7ŒïŒö visitors',
            'TRAVELSTYLE': '88.7Œö IG, 283Œö visitors'
        }
    }
};

// Utility Functions
function showToast(message, duration = 3000) {
    const toast = document.createElement('div');
    toast.className = 'toast';
    toast.textContent = message;
    toast.setAttribute('role', 'alert');
    toast.setAttribute('aria-live', 'polite');
    document.body.appendChild(toast);
    
    setTimeout(() => {
        toast.remove();
    }, duration);
}

function copyToClipboard(text, type) {
    navigator.clipboard.writeText(text).then(() => {
        showToast(`‚úÖ ${type} Œ±ŒΩœÑŒπŒ≥œÅŒ¨œÜŒ∑Œ∫Œµ!`);
    }).catch(() => {
        const textArea = document.createElement('textarea');
        textArea.value = text;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);
        showToast(`‚úÖ ${type} Œ±ŒΩœÑŒπŒ≥œÅŒ¨œÜŒ∑Œ∫Œµ!`);
    });
}

function callPhone(phoneNumber) {
    window.location.href = `tel:${phoneNumber}`;
}

function openMaps() {
    const address = encodeURIComponent(businessData.address);
    window.open(`https://maps.google.com/?q=${address}`, '_blank');
}

// vCard Generation
function downloadVCard() {
    const vCardData = `BEGIN:VCARD
VERSION:3.0
FN:${businessData.name}
TITLE:${businessData.title}
ORG:${businessData.company}
EMAIL:${businessData.email}
TEL;TYPE=CELL:${businessData.phone}
TEL;TYPE=WORK:${businessData.officePhone}
ADR:;;${businessData.address};;;
URL:${businessData.website}
NOTE:Key Account Manager - DOUSIS MEDIA GROUP
END:VCARD`;

    const blob = new Blob([vCardData], { type: 'text/vcard' });
    const url = window.URL.createObjectURL(blob);
    const link = document.createElement('a');
    link.href = url;
    link.download = `${businessData.name}.vcf`;
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    window.URL.revokeObjectURL(url);
    
    showToast('üì• vCard downloaded!');
}

function saveContact() {
    if (navigator.share) {
        navigator.share({
            title: businessData.name,
            text: `Contact: ${businessData.name} - ${businessData.title}`,
            url: businessData.website
        }).then(() => {
            showToast('‚úÖ ŒïœÄŒ±œÜŒÆ Œ∫ŒøŒπŒΩŒøœÄŒøŒπŒÆŒ∏Œ∑Œ∫Œµ!');
        });
    } else {
        downloadVCard();
    }
}

function saveToPhone() {
    downloadVCard();
    showToast('üì± ŒëœÄŒøŒ∏Œ∑Œ∫ŒµœçœÉœÑŒµ œÑŒø vCard œÉœÑŒø Œ∫ŒπŒΩŒ∑œÑœå œÉŒ±œÇ');
}

function shareContact() {
    const shareText = `${businessData.name}\n${businessData.title}\n${businessData.company}\nüìß ${businessData.email}\nüì± ${businessData.phoneDisplay}\nüè¢ ${businessData.officePhoneDisplay}\nüåê ${businessData.website}`;
    
    if (navigator.share) {
        navigator.share({
            title: `ŒïœÄŒ±œÜŒÆ - ${businessData.name}`,
            text: shareText,
            url: businessData.website
        });
    } else if (navigator.clipboard) {
        copyToClipboard(shareText, 'Œ£œÑŒøŒπœáŒµŒØŒ± ŒµœÄŒπŒ∫ŒøŒπŒΩœâŒΩŒØŒ±œÇ');
    } else {
        downloadVCard();
    }
}

function scheduleMeeting() {
    const subject = encodeURIComponent('Œ°Œ±ŒΩœÑŒµŒ≤Œøœç - DOUSIS MEDIA GROUP');
    const body = encodeURIComponent(`ŒìŒµŒπŒ± œÉŒ±œÇ Œ∫. ŒíŒµŒªŒøœçŒ¥Œµ,\n\nŒòŒ± ŒÆŒ∏ŒµŒªŒ± ŒΩŒ± Œ∫Œ±ŒΩŒøŒΩŒØœÉŒøœÖŒºŒµ ŒºŒπŒ± œÉœÖŒΩŒ¨ŒΩœÑŒ∑œÉŒ∑ Œ≥ŒπŒ± ŒΩŒ± œÉœÖŒ∂Œ∑œÑŒÆœÉŒøœÖŒºŒµ œÑŒπœÇ Œ¥œÖŒΩŒ±œÑœåœÑŒ∑œÑŒµœÇ œÄœÅŒøŒ≤ŒøŒªŒÆœÇ.\n\nŒúŒµ ŒµŒ∫œÑŒØŒºŒ∑œÉŒ∑,`);
    window.location.href = `mailto:${businessData.email}?subject=${subject}&body=${body}`;
}

// Accessibility Functions
function handleContactItemKeydown(event, value, action) {
    if (event.key === 'Enter' || event.key === ' ') {
        event.preventDefault();
        if (action === 'Email') {
            copyToClipboard(value, 'Email');
        } else if (action === 'ŒöŒªŒÆœÉŒ∑') {
            callPhone(value);
        } else if (action === 'ŒßŒ¨œÅœÑŒ∑œÇ') {
            openMaps();
        }
    }
}

function updateAriaExpanded(isExpanded) {
    const toggleButton = document.getElementById('chatbot-toggle');
    toggleButton.setAttribute('aria-expanded', isExpanded.toString());
}

// Chat Functionality
let currentStep = 'welcome';
let leadData = {};

function initChatbot() {
    const userInput = document.getElementById('user-input');
    const sendBtn = document.getElementById('send-btn');
    const chatMessages = document.getElementById('chat-messages');
    const quickButtons = document.getElementById('quick-buttons');
    const inputContainer = document.getElementById('input-container');

    function sendMessage() {
        const message = userInput.value.trim();
        if (message) {
            addChatMessage(message, 'user');
            userInput.value = '';
            handleUserResponse(message);
        }
    }

    sendBtn.addEventListener('click', sendMessage);
    userInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') sendMessage();
    });

    function addChatMessage(text, sender) {
        const messageDiv = document.createElement('div');
        messageDiv.className = `chat-message ${sender}-message`;
        messageDiv.textContent = text;
        chatMessages.appendChild(messageDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function showQuickButtons(buttons) {
        quickButtons.innerHTML = '';
        buttons.forEach(button => {
            const btn = document.createElement('button');
            btn.className = 'quick-btn';
            btn.textContent = button.text;
            btn.onclick = button.action;
            btn.setAttribute('aria-label', button.ariaLabel || button.text);
            quickButtons.appendChild(btn);
        });
    }

    // Global functions for action buttons
    window.showMediaOptions = function() {
        showChatInterface();
        addChatMessage('üì∫ **MEDIA ŒüŒúŒôŒõŒüŒ• - DOUSIS COM**\n\nŒïœÄŒπŒªŒ≠ŒæœÑŒµ media Œ≥ŒπŒ± ŒªŒµœÄœÑŒøŒºŒ≠œÅŒµŒπŒµœÇ:', 'bot');
        showQuickButtons([
            { 
                text: 'ŒïŒôŒöŒüŒùŒïŒ£ (Œ§Œ±ŒæŒØŒ¥ŒπŒ±)', 
                action: () => showMediaDetails('ŒïŒôŒöŒüŒùŒïŒ£'),
                ariaLabel: 'Œ†ŒªŒ∑œÅŒøœÜŒøœÅŒØŒµœÇ Œ≥ŒπŒ± ŒïŒôŒöŒüŒùŒïŒ£'
            },
            { 
                text: 'HAPPY HOURS (Lifestyle)', 
                action: () => showMediaDetails('HAPPY HOURS'),
                ariaLabel: 'Œ†ŒªŒ∑œÅŒøœÜŒøœÅŒØŒµœÇ Œ≥ŒπŒ± HAPPY HOURS'
            },
            { 
                text: 'YOUWEEKLY.gr', 
                action: () => showMediaDetails('YOUWEEKLY'),
                ariaLabel: 'Œ†ŒªŒ∑œÅŒøœÜŒøœÅŒØŒµœÇ Œ≥ŒπŒ± YOUWEEKLY'
            },
            { 
                text: 'ATHENS MAGAZINE.gr', 
                action: () => showMediaDetails('ATHENS MAGAZINE'),
                ariaLabel: 'Œ†ŒªŒ∑œÅŒøœÜŒøœÅŒØŒµœÇ Œ≥ŒπŒ± ATHENS MAGAZINE'
            },
            { 
                text: 'TRAVELSTYLE.gr', 
                action: () => showMediaDetails('TRAVELSTYLE'),
                ariaLabel: 'Œ†ŒªŒ∑œÅŒøœÜŒøœÅŒØŒµœÇ Œ≥ŒπŒ± TRAVELSTYLE'
            },
            { 
                text: 'TV24 & TV Œ£ŒôŒ°ŒôŒëŒõ', 
                action: () => showPrintMedia(),
                ariaLabel: 'Œ†ŒªŒ∑œÅŒøœÜŒøœÅŒØŒµœÇ Œ≥ŒπŒ± TV24 Œ∫Œ±Œπ TV Œ£ŒôŒ°ŒôŒëŒõ'
            },
            { 
                text: 'üìã Œ†œÅŒøœÉœÜŒøœÅŒ¨', 
                action: () => window.startLeadForm(),
                ariaLabel: 'ŒëŒØœÑŒ∑ŒºŒ± œÄœÅŒøœÉœÜŒøœÅŒ¨œÇ'
            },
            { 
                text: '‚ùå ŒöŒªŒµŒØœÉŒπŒºŒø', 
                action: () => hideChatInterface(),
                ariaLabel: 'ŒöŒªŒµŒØœÉŒπŒºŒø œÉœÖŒΩŒøŒºŒπŒªŒØŒ±œÇ'
            }
        ]);
    };

    window.showSocialMediaOptions = function() {
        showChatInterface();
        addChatMessage('üì± **SOCIAL MEDIA Œ†Œ°ŒüŒíŒüŒõŒó**\n\nŒ£œÖŒΩŒøŒªŒπŒ∫œå Reach: **3.027.155+ Followers**\n\nŒïœÄŒπŒªŒ≠ŒæœÑŒµ Œ≥ŒπŒ± ŒªŒµœÄœÑŒøŒºŒ≠œÅŒµŒπŒµœÇ:', 'bot');
        showQuickButtons([
            { 
                text: 'üë® Œ§Œ¨œÉŒøœÇ ŒîŒøœçœÉŒ∑œÇ', 
                action: () => showSocialDetails('Œ§Œ¨œÉŒøœÇ ŒîŒøœçœÉŒ∑œÇ'),
                ariaLabel: 'Œ†ŒªŒ∑œÅŒøœÜŒøœÅŒØŒµœÇ Œ≥ŒπŒ± Œ§Œ¨œÉŒø ŒîŒøœçœÉŒ∑'
            },
            { 
                text: 'üì∫ ŒïŒôŒöŒüŒùŒïŒ£ TV', 
                action: () => showSocialDetails('ŒïŒôŒöŒüŒùŒïŒ£ TV'),
                ariaLabel: 'Œ†ŒªŒ∑œÅŒøœÜŒøœÅŒØŒµœÇ Œ≥ŒπŒ± ŒïŒôŒöŒüŒùŒïŒ£ TV'
            },
            { 
                text: 'üë© YOUWEEKLY', 
                action: () => showSocialDetails('YOUWEEKLY'),
                ariaLabel: 'Œ†ŒªŒ∑œÅŒøœÜŒøœÅŒØŒµœÇ Œ≥ŒπŒ± YOUWEEKLY'
            },
            { 
                text: 'üìä Œ£œçŒΩŒøŒªŒø Social', 
                action: () => showAllSocial(),
                ariaLabel: 'Œ£œÖŒΩŒøŒªŒπŒ∫Œ≠œÇ œÄŒªŒ∑œÅŒøœÜŒøœÅŒØŒµœÇ Social Media'
            },
            { 
                text: 'üìã Œ†œÅŒøœÉœÜŒøœÅŒ¨', 
                action: () => window.startLeadForm(),
                ariaLabel: 'ŒëŒØœÑŒ∑ŒºŒ± œÄœÅŒøœÉœÜŒøœÅŒ¨œÇ'
            },
            { 
                text: '‚ùå ŒöŒªŒµŒØœÉŒπŒºŒø', 
                action: () => hideChatInterface(),
                ariaLabel: 'ŒöŒªŒµŒØœÉŒπŒºŒø œÉœÖŒΩŒøŒºŒπŒªŒØŒ±œÇ'
            }
        ]);
    };

    function showMediaDetails(media) {
        const info = mediaInfo[media];
        const message = `**${info.title}**\n\n${info.description}\n\nüìä **Œ£œÑŒ±œÑŒπœÉœÑŒπŒ∫Œ¨:**\n${info.stats}\n\nüéØ **ŒöŒøŒπŒΩœå:**\n${info.demographics}`;
        addChatMessage(message, 'bot');
        showQuickButtons([
            { text: 'üìã Œ†œÅŒøœÉœÜŒøœÅŒ¨', action: () => window.startLeadForm(), ariaLabel: 'ŒëŒØœÑŒ∑ŒºŒ± œÄœÅŒøœÉœÜŒøœÅŒ¨œÇ' },
            { text: 'üì∫ ŒÜŒªŒªŒ± Media', action: () => window.showMediaOptions(), ariaLabel: 'ŒïœÄŒπœÉœÑœÅŒøœÜŒÆ œÉœÑŒ± Media' },
            { text: '‚ùå ŒöŒªŒµŒØœÉŒπŒºŒø', action: () => hideChatInterface(), ariaLabel: 'ŒöŒªŒµŒØœÉŒπŒºŒø œÉœÖŒΩŒøŒºŒπŒªŒØŒ±œÇ' }
        ]);
    }

    function showPrintMedia() {
        const message = `üì∞ **Œ§ŒóŒõŒïŒüŒ†Œ§ŒôŒöŒë Œ†ŒïŒ°ŒôŒüŒîŒôŒöŒë**\n\n**TV24 & TV Œ£ŒôŒ°ŒôŒëŒõ**\n‚Ä¢ 24.000 Œ±ŒΩœÑŒØœÑœÖœÄŒ± œÑŒø Œ∫Œ±Œ∏Œ≠ŒΩŒ±\n‚Ä¢ Œ£œçŒΩŒøŒªŒø: 48.000 œÉœÄŒØœÑŒπŒ±/ŒµŒ≤Œ¥ŒøŒºŒ¨Œ¥Œ±\n‚Ä¢ Online: 4ŒïŒö+ pageviews/ŒºŒÆŒΩŒ±\n\n**ŒîŒπŒ±œÜŒ∑ŒºŒπœÉœÑŒπŒ∫Œ≠œÇ ŒöŒ±œÑŒ±œáœâœÅŒÆœÉŒµŒπœÇ:**\n‚Ä¢ ŒüŒªœåœÉŒµŒªŒπŒ¥ŒµœÇ & ŒóŒºŒπœÉŒ≠ŒªŒπŒ¥ŒµœÇ\n‚Ä¢ Œ†œÅŒøŒΩŒøŒºŒπŒ±Œ∫Œ≠œÇ ŒòŒ≠œÉŒµŒπœÇ:\n  - ŒüœÄŒπœÉŒ∏œåœÜœÖŒªŒªŒø\n  - ŒïœÉœâœÑŒµœÅŒπŒ∫ŒÆ ŒïŒæœâœÜœçŒªŒªŒøœÖ\n  - ŒïŒπŒ¥ŒπŒ∫Œ≠œÇ ŒòŒ≠œÉŒµŒπœÇ ŒïŒΩœÑœåœÇ ŒöŒµŒπŒºŒ≠ŒΩŒøœÖ`;
        addChatMessage(message, 'bot');
        showQuickButtons([
            { text: 'üìã Œ†œÅŒøœÉœÜŒøœÅŒ¨', action: () => window.startLeadForm(), ariaLabel: 'ŒëŒØœÑŒ∑ŒºŒ± œÄœÅŒøœÉœÜŒøœÅŒ¨œÇ' },
            { text: 'üì∫ ŒóŒªŒµŒ∫œÑœÅŒøŒΩŒπŒ∫Œ¨ Media', action: () => window.showMediaOptions(), ariaLabel: 'ŒïœÄŒπœÉœÑœÅŒøœÜŒÆ œÉœÑŒ± Media' },
            { text: '‚ùå ŒöŒªŒµŒØœÉŒπŒºŒø', action: () => hideChatInterface(), ariaLabel: 'ŒöŒªŒµŒØœÉŒπŒºŒø œÉœÖŒΩŒøŒºŒπŒªŒØŒ±œÇ' }
        ]);
    }

    function showSocialDetails(platform) {
        const social = socialMediaInfo['Œ£Œ•ŒùŒüŒõŒü'].platforms[platform];
        const message = `**${platform.toUpperCase()}**\n\n${social}\n\nüí° **Œ†œÅŒøŒ≤ŒøŒªŒÆ:** Posts, Stories, Reels, Video Content`;
        addChatMessage(message, 'bot');
        showQuickButtons([
            { text: 'üìã Œ†œÅŒøœÉœÜŒøœÅŒ¨', action: () => window.startLeadForm(), ariaLabel: 'ŒëŒØœÑŒ∑ŒºŒ± œÄœÅŒøœÉœÜŒøœÅŒ¨œÇ' },
            { text: 'üì± ŒÜŒªŒªŒ± Social', action: () => window.showSocialMediaOptions(), ariaLabel: 'ŒïœÄŒπœÉœÑœÅŒøœÜŒÆ œÉœÑŒ± Social Media' },
            { text: '‚ùå ŒöŒªŒµŒØœÉŒπŒºŒø', action: () => hideChatInterface(), ariaLabel: 'ŒöŒªŒµŒØœÉŒπŒºŒø œÉœÖŒΩŒøŒºŒπŒªŒØŒ±œÇ' }
        ]);
    }

    function showAllSocial() {
        const message = `**Œ£Œ•ŒùŒüŒõŒôŒöŒü SOCIAL MEDIA REACH**\n\nüìä ${socialMediaInfo['Œ£Œ•ŒùŒüŒõŒü'].stats}\n\n**ŒöŒøœÅœÖœÜŒ±ŒØŒøŒπ ŒõŒøŒ≥Œ±œÅŒπŒ±œÉŒºŒøŒØ:**\n‚Ä¢ @tasosdousis: 734Œö IG\n‚Ä¢ @eikonesbytasosdousis: 468Œö IG\n‚Ä¢ @youweekly.gr: 223Œö IG\n‚Ä¢ @athensmagazine.gr: 133Œö IG\n‚Ä¢ @travelstyle.gr: 88.7Œö IG`;
        addChatMessage(message, 'bot');
        showQuickButtons([
            { text: 'üìã Social Package', action: () => window.startLeadForm(), ariaLabel: 'ŒëŒØœÑŒ∑ŒºŒ± Social Media package' },
            { text: 'üì± ŒëœÑŒøŒºŒπŒ∫Œ≠œÇ Œ†ŒªŒ±œÑœÜœåœÅŒºŒµœÇ', action: () => window.showSocialMediaOptions(), ariaLabel: 'ŒïœÄŒπœÉœÑœÅŒøœÜŒÆ œÉœÑŒ± Social Media' },
            { text: '‚ùå ŒöŒªŒµŒØœÉŒπŒºŒø', action: () => hideChatInterface(), ariaLabel: 'ŒöŒªŒµŒØœÉŒπŒºŒø œÉœÖŒΩŒøŒºŒπŒªŒØŒ±œÇ' }
        ]);
    }

    window.startLeadForm = function() {
        showChatInterface();
        currentStep = 'lead_form';
        leadData = {};
        addChatMessage('üìã **ŒëŒôŒ§ŒóŒúŒë Œ†Œ°ŒüŒ£Œ¶ŒüŒ°ŒëŒ£**\n\nŒìŒπŒ± ŒΩŒ± œÉŒ±œÇ ŒµœÑŒøŒπŒºŒ¨œÉœâ ŒºŒπŒ± œÄœÅŒøœÉœÜŒøœÅŒ¨, œáœÅŒµŒπŒ¨Œ∂ŒøŒºŒ±Œπ ŒªŒØŒ≥ŒµœÇ œÄŒªŒ∑œÅŒøœÜŒøœÅŒØŒµœÇ.\n\nŒ†œéœÇ œÉŒ±œÇ ŒªŒ≠ŒΩŒµ;', 'bot');
        inputContainer.style.display = 'flex';
        userInput.focus();
        quickButtons.innerHTML = '';
    };

    function handleUserResponse(response) {
        if (currentStep === 'lead_form') {
            handleLeadForm(response);
        } else {
            addChatMessage('ŒúœÄŒøœÅœé ŒΩŒ± œÉŒ±œÇ Œ≤ŒøŒ∑Œ∏ŒÆœÉœâ Œ∫Œ±ŒªœçœÑŒµœÅŒ± ŒµœÄŒπŒªŒ≠Œ≥ŒøŒΩœÑŒ±œÇ ŒºŒπŒ± Œ±œÄœå œÑŒπœÇ ŒµœÄŒπŒªŒøŒ≥Œ≠œÇ œÄŒ±œÅŒ±œÄŒ¨ŒΩœâ. Œ§Œπ œÉŒ±œÇ ŒµŒΩŒ¥ŒπŒ±œÜŒ≠œÅŒµŒπ;', 'bot');
            showQuickButtons([
                { text: 'üì∫ Media ŒüŒºŒØŒªŒøœÖ', action: () => window.showMediaOptions(), ariaLabel: 'Œ†ŒªŒ∑œÅŒøœÜŒøœÅŒØŒµœÇ Media ŒøŒºŒØŒªŒøœÖ' },
                { text: 'üì± Social Media', action: () => window.showSocialMediaOptions(), ariaLabel: 'Œ†ŒªŒ∑œÅŒøœÜŒøœÅŒØŒµœÇ Social Media' },
                { text: 'üìã Œ†œÅŒøœÉœÜŒøœÅŒ¨', action: () => window.startLeadForm(), ariaLabel: 'ŒëŒØœÑŒ∑ŒºŒ± œÄœÅŒøœÉœÜŒøœÅŒ¨œÇ' },
                { text: '‚ùå ŒöŒªŒµŒØœÉŒπŒºŒø', action: () => hideChatInterface(), ariaLabel: 'ŒöŒªŒµŒØœÉŒπŒºŒø œÉœÖŒΩŒøŒºŒπŒªŒØŒ±œÇ' }
            ]);
        }
    }

    function handleLeadForm(response) {
        if (!leadData.name) {
            leadData.name = response;
            addChatMessage(`ŒïœÖœáŒ±œÅŒπœÉœÑœé, ${response}! Œ†ŒøŒπŒ± ŒµŒØŒΩŒ±Œπ Œ∑ ŒµœÑŒ±ŒπœÅŒµŒØŒ± œÉŒ±œÇ;`, 'bot');
        } else if (!leadData.company) {
            leadData.company = response;
            addChatMessage(`Œ†ŒøŒπŒø ŒµŒØŒΩŒ±Œπ œÑŒø email œÉŒ±œÇ;`, 'bot');
        } else if (!leadData.email) {
            leadData.email = response;
            completeLeadForm();
        }
    }

    function completeLeadForm() {
        addChatMessage(`‚úÖ **ŒïŒ•ŒßŒëŒ°ŒôŒ£Œ§ŒüŒ•ŒúŒï, ${leadData.name.toUpperCase()}!**\n\nŒü Key Account Manager, ŒìŒπŒ¨ŒΩŒΩŒ∑œÇ ŒíŒµŒªŒøœçŒ¥ŒøœÇ, Œ∏Œ± ŒµœÄŒπŒ∫ŒøŒπŒΩœâŒΩŒÆœÉŒµŒπ ŒºŒ±Œ∂ŒØ œÉŒ±œÇ œÉœÑŒø ${leadData.email} ŒºŒ≠œÉŒ± œÉœÑŒ∑ŒΩ ŒµœÄœåŒºŒµŒΩŒ∑ ŒµœÅŒ≥Œ¨œÉŒπŒºŒ∑ Œ∑ŒºŒ≠œÅŒ± Œ≥ŒπŒ± ŒΩŒ± œÉœÖŒ∂Œ∑œÑŒÆœÉŒµœÑŒµ œÑŒ∑ œÄœÅŒøœÉœÜŒøœÅŒ¨ œÉŒ±œÇ.`, 'bot');
        
        // Log lead data
        console.log('New Lead:', leadData);
        
        showQuickButtons([
            { text: 'üìû ŒöŒ±ŒªŒ≠œÉœÑŒµ Œ§œéœÅŒ±', action: () => callPhone(businessData.phone), ariaLabel: 'ŒöŒªŒÆœÉŒ∑ œÑœéœÅŒ±' },
            { text: 'üìß Œ£œÑŒµŒØŒªœÑŒµ Email', action: () => window.location.href = `mailto:${businessData.email}?subject=Œ†œÅŒøœÉœÜŒøœÅŒ¨&body=ŒìŒµŒπŒ± œÉŒ±œÇ Œ∫. ŒíŒµŒªŒøœçŒ¥Œµ,`, ariaLabel: 'ŒëœÄŒøœÉœÑŒøŒªŒÆ email' },
            { text: '‚úÖ ŒüŒö', action: () => hideChatInterface(), ariaLabel: 'ŒöŒªŒµŒØœÉŒπŒºŒø œÉœÖŒΩŒøŒºŒπŒªŒØŒ±œÇ' }
        ]);
        inputContainer.style.display = 'none';
        currentStep = 'welcome';
    }

    function showChatInterface() {
        document.getElementById('chat-interface').style.display = 'flex';
        document.getElementById('chatbot-content').scrollTop = document.getElementById('chatbot-content').scrollHeight;
    }

    function hideChatInterface() {
        document.getElementById('chat-interface').style.display = 'none';
        document.getElementById('chat-messages').innerHTML = '';
        document.getElementById('quick-buttons').innerHTML = '';
        document.getElementById('input-container').style.display = 'none';
        currentStep = 'welcome';
    }
}

// Initialize Chatbot
document.addEventListener('DOMContentLoaded', function() {
    const chatbotToggle = document.getElementById('chatbot-toggle');
    const chatbotWindow = document.getElementById('chatbot-window');
    const closeChatbot = document.getElementById('close-chatbot');

    // Update with personal data
    document.getElementById('profile-info').querySelector('h3').textContent = businessData.name;
    document.getElementById('profile-info').querySelectorAll('p')[0].textContent = businessData.title;
    document.getElementById('profile-info').querySelector('.company').textContent = businessData.company;
    document.getElementById('profile-photo').src = businessData.photo;
    document.getElementById('toggle-photo').src = businessData.photo;

    // Update contact information
    const contactItems = document.querySelectorAll('.contact-item .text');
    contactItems[0].textContent = businessData.email;
    contactItems[1].textContent = businessData.phoneDisplay;
    contactItems[2].textContent = businessData.officePhoneDisplay;
    contactItems[3].textContent = businessData.address;

    // Toggle functionality
    chatbotToggle.addEventListener('click', function() {
        const isVisible = chatbotWindow.style.display === 'flex';
        chatbotWindow.style.display = isVisible ? 'none' : 'flex';
        updateAriaExpanded(!isVisible);
        
        if (!isVisible) {
            chatbotWindow.focus();
        }
    });

    chatbotToggle.addEventListener('keydown', function(event) {
        if (event.key === 'Enter' || event.key === ' ') {
            event.preventDefault();
            chatbotToggle.click();
        }
    });

    closeChatbot.addEventListener('click', function() {
        chatbotWindow.style.display = 'none';
        updateAriaExpanded(false);
        chatbotToggle.focus();
        hideChatInterface();
    });

    closeChatbot.addEventListener('keydown', function(event) {
        if (event.key === 'Enter' || event.key === ' ') {
            event.preventDefault();
            closeChatbot.click();
        }
    });

    // Close on Escape
    document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape' && chatbotWindow.style.display === 'flex') {
            chatbotWindow.style.display = 'none';
            updateAriaExpanded(false);
            chatbotToggle.focus();
            hideChatInterface();
        }
    });

    // Initialize chat functionality
    initChatbot();
});

// Global functions
window.downloadVCard = downloadVCard;
window.copyToClipboard = copyToClipboard;
window.callPhone = callPhone;
window.openMaps = openMaps;
window.saveContact = saveContact;
window.saveToPhone = saveToPhone;
window.shareContact = shareContact;
window.scheduleMeeting = scheduleMeeting;
window.handleContactItemKeydown = handleContactItemKeydown;
window.showMediaOptions = showMediaOptions;
window.showSocialMediaOptions = showSocialMediaOptions;
window.startLeadForm = startLeadForm;
</script>